<!-- version del ej 44 donde hay muchos todos -->


<html>
  <body id="body">    
  </body>
</html>

<script>async function fetchData(){
  const response = await fetch("https://jsonplaceholder.typicode.com/todos")  //Aqui estamos cogiendo los datos
  const data = await response.json()  //Aqui parseamos los datos

  //creamos un foreach, lo que hará que se repita la acción por cada elemento de data
data.forEach(element => {
  const contenedor = document.createElement("div")  //creamos el elemento div en el html
  contenedor.classList.add("container")   //le añadimos la clase
  const todoTitle = document.createElement("h2")
  todoTitle.classList.add("title")
  const todoCompleted = document.createElement("input")
  todoCompleted.classList.add("completed")
  todoCompleted.type = "checkbox"   //como todoCompleted es un input hay que especificar el tipo
  contenedor.appendChild(todoTitle) //The appendChild() method appends a node (element) as the last child of an element.
  contenedor.appendChild(todoCompleted)

  const {userId, id, title, completed} = element    //destructuring el objeto, hay que usar los mismos nombres que tienen las keys en el objeto

  todoTitle.textContent = `To Do: ${title}`  // le ponemos el valor de title a todoTitle, lo ponemos como template string por si tiene números que pueda detectarlo como string
  todoCompleted.checked = completed   // aqui ponemos checked en vez de textContent porque es un input de checkbox
  const body = document.getElementById("body")    //cogemos el body por utilizando su id
  body.appendChild(contenedor)
});
}

fetchData();
</script>
